const STORAGE_KEY="ghost-history",TIMEOUT=864e5,LIMIT=15;!async function(){try{const t=window.localStorage,e=t.getItem(STORAGE_KEY),n=(new Date).getTime();let i=[];if(e)try{i=JSON.parse(e)}catch(t){console.warn("[Member Attribution] Error while parsing history",t)}const r=i.findIndex((t=>{if(!t.time||"number"!=typeof t.time)return!1;const e=n-t.time;return!(isNaN(t.time)||e>TIMEOUT)}));r>0?i.splice(0,r):-1===r&&(i=[]);const o=window.location.pathname;0===i.length||i[i.length-1].path!==o?i.push({path:o,time:n}):i.length>0&&(i[i.length-1].time=n),i.length>15&&(i=i.slice(-15)),t.setItem(STORAGE_KEY,JSON.stringify(i))}catch(t){console.error("[Member Attribution] Failed with error",t)}}();