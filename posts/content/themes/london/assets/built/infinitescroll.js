function initInfiniteScroll(n,t){var r,i,o,l,s,c,u,d=t.querySelector("link[rel=next]");function v(){if(404===this.status)return n.removeEventListener("scroll",a),void n.removeEventListener("resize",m);this.response.querySelectorAll(".post-card").forEach(function(e){r.appendChild(e)});var e=this.response.querySelector("link[rel=next]");e?d.href=e.href:(n.removeEventListener("scroll",a),n.removeEventListener("resize",m)),u=t.documentElement.scrollHeight,l=o=!1}function e(){var e;l||(s+c<=u-i?o=!1:(l=!0,(e=new n.XMLHttpRequest).responseType="document",e.addEventListener("load",v),e.open("GET",d.href),e.send(null)))}function f(){o||n.requestAnimationFrame(e),o=!0}function a(){s=n.scrollY,f()}function m(){c=n.innerHeight,u=t.documentElement.scrollHeight,f()}!d||(r=t.querySelector(".post-feed"))&&(l=o=!(i=300),s=n.scrollY,c=n.innerHeight,u=t.documentElement.scrollHeight,n.addEventListener("scroll",a,{passive:!0}),n.addEventListener("resize",m),f())}initInfiniteScroll(window,document);
//# sourceMappingURL=infinitescroll.js.map